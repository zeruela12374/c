<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Capacita TG - Qualificação profissional para Atiradores dos Tiros de Guerra com cursos gratuitos">
    <meta name="keywords" content="cursos gratuitos, capacitação, exército, tiro de guerra, profissionalização">
    <title>Capacita TG</title>
    <link rel="icon" href="/src/imgs/favicon-32x32.png" type="image/x-icon">
    <link rel="stylesheet" href="/src/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;600;700&family=PT+Serif:wght@400;700&display=swap" rel="stylesheet">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;600;700&family=PT+Serif:wght@400;700&display=swap" as="style">
    <link rel="preload" href="/src/imgs/logotg.png" as="image">
    <style>
        /* Estilos específicos para header compacto */
        header.compact {
            padding: 0.4rem 0;
            min-height: 50px;
            max-height: 70px;
        }

        header.compact .logo-military,
        header.compact .symbol-right {
            height: 35px;
        }

        header.compact .header-branding h1 a {
            font-size: 1.4rem;
        }

        header.compact .nav-link {
            padding: 0.4rem 0;
            font-size: 0.85rem;
        }

        header.compact .search-container input {
            padding: 0.5rem 0.8rem;
            font-size: 0.8rem;
        }

        header.compact .btn-login {
            padding: 0.5rem 1rem;
            font-size: 0.8rem;
        }

        /* Animação suave para mudanças de estado do header */
        header {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        header * {
            transition: all 0.3s ease;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="header-left">
                    <div class="header-branding">
                        <img src="/src/imgs/insgtg.png" 
                             alt="Símbolo do Exército Brasileiro" 
                             class="logo-military">
                        <div class="brand-title-container">
                            <h1><a href="#cursos">Capacita TG</a></h1>
                        </div>
                    </div>

                    <nav class="main-nav" aria-label="Navegação principal">
                        <ul>
                            <li><a href="entrar.html" class="nav-link" aria-current="page">Cadastre-se</a></li>
                            <li><a href="index.html#parceiros" class="nav-link">Sobre Nós</a></li>
                            <li><a href="index.html" class="nav-link">Notícias</a></li>
                            <li><a href="index.html#parceira" class="nav-link">Parceiros</a></li>
                            <li><a href="index.html#contato" class="nav-link">Contato</a></li>
                        </ul>
                    </nav>
                </div>
                
                <div class="header-right">
                    <div class="header-actions">
                        <div class="search-container">
                            <input type="search" placeholder="Pesquisar cursos..." aria-label="Pesquisar cursos" autocomplete="off">
                        </div>
                        <button class="btn btn-login" id="headerLoginBtn">Acessar</button>
                        <a href="/admin/index.html" class="btn btn-admin" target="_blank" rel="noopener noreferrer">Painel Admin</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main>
        <section class="hero">
            <div class="container">
                <h2>Garanta o seu Futuro!</h2>
                <p>Qualifique-se!</p>
                <a href="#cursos" class="btn btn-primary">Saiba Mais</a>
            </div>
        </section>

        <section id="cursos" class="courses-section">
            <div class="container">
                <h2>Nossos Projetos de Capacitações!</h2>
                <div class="course-grid">
                    <div class="course-card">
                        <div class="image-container no-padding-top">
                            <img src="/src/imgs/imagem-aprendiz.jpeg" alt="Jovem profissional em seu primeiro emprego">
                        </div>
                        <div class="course-info">
                            <h3>Jovem Aprendiz /<br> Meu Primeiro Emprego</h3>
                            <p class="course-category">Iniciando sua Carreira</p>
                            <p>Orientação e preparação para ingressar no mercado de trabalho.</p>
                            <a href="primeiroemprego.html" class="btn btn-secondary">Saiba Mais</a>
                        </div>
                    </div>

                    <div class="course-card">
                        <div class="image-container">
                            <img src="https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg" alt="Profissionais em reunião">
                        </div>
                        <div class="course-info">
                            <h3>Novos Desafios Profissionais</h3>
                            <p class="course-category">Transição de Carreira</p>
                            <p>Estratégias para conquistar novas oportunidades profissionais.</p>
                            <a href="novoemp.html" class="btn btn-secondary">Saiba Mais</a>
                        </div>
                    </div>

                    <div class="course-card">
                        <div class="image-container">
                            <img src="https://images.pexels.com/photos/3184338/pexels-photo-3184338.jpeg" alt="Profissional em desenvolvimento">
                        </div>
                        <div class="course-info">
                            <h3>Empreenda com Qualidade</h3>
                            <p class="course-category">Gestão de Negócios</p>
                            <p>Fundamentos para iniciar e gerir seu próprio negócio.</p>
                            <a href="empreend.html" class="btn btn-secondary">Saiba Mais</a>
                        </div>
                    </div>
                    
                    <div class="special-cards-container">
                        <div class="course-card">
                            <div class="image-container">
                                <img src="https://images.pexels.com/photos/3184292/pexels-photo-3184292.jpeg" alt="Empreendedor em seu negócio">
                            </div>
                            <div class="course-info">
                                <h3>Educação Financeira</h3>
                                <p class="course-category">Gestão Financeira</p>
                                <p>Aprenda a gerenciar suas finanças e investimentos</p>
                                <a href="financ.html" class="btn btn-secondary">Saiba Mais</a>
                            </div>
                        </div>

                        <div class="course-card">
                            <div class="image-container">
                                <img src="https://vidasaudavel.einstein.br/wp-content/uploads/2022/08/habitos-saudaveis.jpeg" alt="Hábitos saudáveis">
                            </div>
                            <div class="course-info">
                                <h3>Hábitos Saudáveis</h3>
                                <p class="course-category">Saúde e Bem-estar!</p>
                                <p>Aprenda a como manter sua saúde fisica e mental em dia.</p>
                                <a href="habitos.html" class="btn btn-secondary">Saiba Mais</a>
                            </div>
                        </div>

                        <div class="course-card">
                            <div class="image-container" id="parceira">
                                <img src="https://images.pexels.com/photos/3183150/pexels-photo-3183150.jpeg" alt="Planejamento financeiro">
                            </div>
                            <div class="course-info">
                                <h3 id="parceiros">Empresas Parceiras</h3>
                                <p class="course-category">Cadastro</p>
                                <p>Cadastre-se para se tornar uma empresa parceira</p>
                                <a href="parceiros.html" class="btn btn-secondary">Saiba Mais</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="about-program">
            <div class="container">
                <div class="program-content">
                    <div class="program-image">
                        <img src="/src/imgs/capacita tg (3).png" 
                             alt="Imagem principal do programa" 
                             class="main-image">
                    </div>
                    <div class="program-info">
                        <div class="program-header">
                            <img id="imagem_sobre" src="/src/imgs/capacitatg2.png" 
                                 alt="Logo pequena" 
                                 class="small-logo">
                            <h2>Sobre o Projeto</h2>
                        </div>
                        <div class="program-description" style="text-align: justify;">
                            <p><strong>O projeto CAPACITA TG tem como objetivo a qualificação profissional para a
                                inserção no mercado de trabalho dos Atiradores matriculados nos Tiros de Guerra,
                                através de cursos gratuitos oferecidos por instituições que possuem plataformas de
                                acesso amplo, sem custos com emissão de certificados.</strong></p>
                            <p>São cursos voltados para a capacitação profissional, empreendedorismo e gestão em
                                finanças pessoais para os jovens atiradores que buscam ingressar, requalificar e
                                potencializar seu desenvolvimento profissional e pessoal.</p>
                            <p>O projeto tem por finalidade, além da especialização profissional, a inclusão dos jovens em campos efetivos de trabalho, 
                                a partir das parcerias conjuntas com empresas locais, como também incentivar os Atiradores que já estão inseridos no mercado 
                                de trabalho a indicar os demais quando surgirem oportunidades de emprego. Assim, firma-se um dos pilares ao qual se destina a 
                                construção e manutenção do <strong>CAPACITA TG</strong></p>
                        </div>
                    </div>
                </div>
                <div class="custom-images-container">
                    <img src="src/imgs/profissional.png" alt="Profissional capacitado">
                    <img src="src/imgs/curso.png" alt="Curso profissionalizante">
                    <img src="src/imgs/aprendizado.png" alt="Aprendizado contínuo">
                </div>
            </div>
        </section>
    </main>

    <div class="modal-overlay" id="userProfileModal">
        <div class="modal">
            <div class="modal-header">
                <img src="/src/imgs/capacitatg.png" 
                     alt="Logo Capacita TG">
                <h3>Perfil do Usuário</h3>
                <p>Suas informações de acesso</p>
            </div>
            <div class="modal-content">
                <div class="modal-info">
                    <p><strong>Nome:</strong> <span id="modalUserName"></span></p>
                    <p><strong>Email:</strong> <span id="modalUserEmail"></span></p>
                    <p><strong>Tipo:</strong> <span id="modalUserType"></span></p>
                </div>
            </div>
            <div class="modal-actions">
                <button class="btn btn-success" id="modalAcessarSistema">Acessar Sistema</button>
                <button class="btn btn-danger" id="modalLogout">Fazer Logout</button>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="logoutConfirmModal">
        <div class="modal">
            <div class="modal-header">
                <img src="/src/imgs/capacitatg.png" 
                     alt="Logo Capacita TG">
                <h3>Confirmar Logout</h3>
                <p>Tem certeza que deseja sair?</p>
            </div>
            <div class="modal-content">
                <p style="text-align: center; color: #6c757d;">
                    Você será desconectado do sistema e precisará fazer login novamente.
                </p>
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" id="cancelLogout">Cancelar</button>
                <button class="btn btn-danger" id="confirmLogout">Sair</button>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="successModal">
        <div class="modal">
            <div class="modal-header">
                <img src="/src/imgs/capacitatg.png" 
                     alt="Logo Capacita TG">
                <h3 id="successTitle">Sucesso!</h3>
                <p id="successMessage">Operação realizada com sucesso!</p>
            </div>
            <div class="modal-actions">
                <button class="btn btn-primary" id="closeSuccessModal">OK</button>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="systemAccessModal">
        <div class="modal">
            <div class="modal-header">
                <img src="/src/imgs/capacitatg.png" 
                     alt="Logo Capacita TG">
                <h3>Acessar Sistema</h3>
                <p>Redirecionando para a área principal</p>
            </div>
            <div class="modal-content">
                <p style="text-align: center; color: #6c757d;">
                    Você será direcionado para a página principal do sistema Capacita TG.
                </p>
            </div>
            <div class="modal-actions">
                <button class="btn btn-primary" id="confirmSystemAccess">Continuar</button>
            </div>
        </div>
    </div>

    <footer id="contato" itemscope itemtype="https://schema.org/Organization">
        <div class="container">
            <div class="footer-content">
                <div class="footer-col">
                    <h3 itemprop="name">Capacita TG</h3>
                    <p itemprop="description">Sua jornada de sucesso começa aqui.</p>
                    <div itemprop="address" itemscope itemtype="https://schema.org/PostalAddress">
                        <p><span itemprop="streetAddress">R. Sgt. Benevides Montes, s/n - Primavera</span>, 
                        <span itemprop="addressLocality">Arapiraca</span> - <span itemprop="addressRegion">AL</span></p>
                    </div>
                </div>
                <div class="footer-col">
                    <h4>Links Rápidos</h4>
                    <ul>
                        <li><a href="entrar.html" class="nav-link">Cadastre-se</a></li>
                        <li><a href="index.html#parceiros" class="nav-link">Sobre Nós</a></li>
                        <li><a href="index.html" class="nav-link">Notícias</a></li>
                        <li><a href="index.html#parceira" class="nav-link">Parceiros</a></li>
                        <li><a href="#contato" class="nav-link">Contato</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Contato</h4>
                    <p>Email plataforma: capacitatg@gmail.com</p>
                    <div class="social-links">
                        <a href="https://www.instagram.com/tg07015_exercito/" target="_blank">Instagram</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025-2026 CapacitaTG. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <script src="/src/js/header-control.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Smooth scroll para links internos
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        const headerHeight = document.querySelector('header').offsetHeight;
                        const targetPosition = target.offsetTop - headerHeight - 20;
                        
                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'smooth'
                        });
                    }
                });
            });

            // Intersection Observer para animações
            const animateOnScroll = (elements, className) => {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add(className);
                            observer.unobserve(entry.target);
                        }
                    });
                }, { threshold: 0.1 });

                elements.forEach(el => observer.observe(el));
            };

            // Animar cards ao aparecer na tela
            animateOnScroll(document.querySelectorAll('.course-card'), 'animate-card');
            animateOnScroll(document.querySelectorAll('.custom-images-container img'), 'animate-slide');
        });

        // Funções de controle dos modais
        function showModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function hideModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.remove('active');
            document.body.style.overflow = '';
        }

        function showSuccessModal(title, message) {
            document.getElementById('successTitle').textContent = title;
            document.getElementById('successMessage').textContent = message;
            showModal('successModal');
        }

        // Verificar se usuário já está logado ao carregar a página
        document.addEventListener('DOMContentLoaded', function() {
            checkLoggedInUser();
            setupModalEvents();
        });

        function setupModalEvents() {
            // Fechar modais clicando no overlay
            document.querySelectorAll('.modal-overlay').forEach(overlay => {
                overlay.addEventListener('click', function(e) {
                    if (e.target === overlay) {
                        hideModal(overlay.id);
                    }
                });
            });

            // Eventos dos botões dos modais
            document.getElementById('modalAcessarSistema').addEventListener('click', function() {
                hideModal('userProfileModal');
                showModal('systemAccessModal');
            });

            document.getElementById('modalLogout').addEventListener('click', function() {
                hideModal('userProfileModal');
                showModal('logoutConfirmModal');
            });

            document.getElementById('cancelLogout').addEventListener('click', function() {
                hideModal('logoutConfirmModal');
            });

            document.getElementById('confirmLogout').addEventListener('click', function() {
                hideModal('logoutConfirmModal');
                performLogout();
            });

            document.getElementById('closeSuccessModal').addEventListener('click', function() {
                hideModal('successModal');
            });

            document.getElementById('confirmSystemAccess').addEventListener('click', function() {
                hideModal('systemAccessModal');
                showSuccessModal('Redirecionamento', 'Em desenvolvimento: aqui você seria redirecionado para o dashboard principal.');
            });
        }

        function checkLoggedInUser() {
            const userData = localStorage.getItem('capacitaTgUser');
            
            if (userData) {
                const user = JSON.parse(userData);
                updateHeaderButton(user, true);
            } else {
                updateHeaderButton(null, false);
            }
        }

        function updateHeaderButton(user, isLoggedIn) {
            const headerLoginBtn = document.getElementById('headerLoginBtn');
            
            if (isLoggedIn && user) {
                headerLoginBtn.innerHTML = `
                    <div class="user-info-header">
                        <span class="user-name-header">${user.nome.split(' ')[0]} ${user.nome.split(' ')[1] || ''}</span>
                        <span class="user-type-header">${user.tipoUsuario === 'atirador' ? 'Atirador' : 'Empregador'}</span>
                    </div>
                `;
                headerLoginBtn.classList.add('logged-in');
            } else {
                headerLoginBtn.textContent = 'Acessar';
                headerLoginBtn.classList.remove('logged-in');
                headerLoginBtn.style.background = '';
                headerLoginBtn.style.color = '';
            }
        }

        function performLogout() {
            // Remover dados do localStorage
            localStorage.removeItem('capacitaTgUser');
            
            // Restaurar botão do header
            updateHeaderButton(null, false);
            
            showSuccessModal('Logout Realizado', 'Você foi desconectado com sucesso!');
        }

        // Clique no botão do header - SIMPLIFICADO
        document.getElementById('headerLoginBtn').addEventListener('click', function() {
            const userData = localStorage.getItem('capacitaTgUser');
            if (userData) {
                // Se estiver logado, mostrar modal com informações do usuário
                const user = JSON.parse(userData);
                document.getElementById('modalUserName').textContent = user.nome;
                document.getElementById('modalUserEmail').textContent = user.email;
                document.getElementById('modalUserType').textContent = 
                    user.tipoUsuario === 'atirador' ? 'Atirador' : 'Empregador';
                showModal('userProfileModal');
            } else {
                // Se não estiver logado, redirecionar diretamente para entrar.html
                window.location.href = 'entrar.html';
            }
        });
    </script>
    <script>
        // Lazy loading para imagens
        document.addEventListener("DOMContentLoaded", function() {
            const lazyImages = [].slice.call(document.querySelectorAll("img.lazy"));
            
            if ("IntersectionObserver" in window) {
                let lazyImageObserver = new IntersectionObserver(function(entries, observer) {
                    entries.forEach(function(entry) {
                        if (entry.isIntersecting) {
                            let lazyImage = entry.target;
                            lazyImage.src = lazyImage.dataset.src;
                            lazyImage.classList.remove("lazy");
                            lazyImageObserver.unobserve(lazyImage);
                        }
                    });
                });
    
                lazyImages.forEach(function(lazyImage) {
                    lazyImageObserver.observe(lazyImage);
                });
            }
        });
    
        // WebP detection for better image format
        function checkWebP() {
            return new Promise(res => {
                const webP = new Image();
                webP.src = 'data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA';
                webP.onload = webP.onerror = () => res(webP.height === 2);
            });
        }
    
        checkWebP().then(hasWebP => {
            if (hasWebP) document.documentElement.classList.add('webp');
            else document.documentElement.classList.add('no-webp');
        });
    </script>
    <script src="/src/js/search.js"></script>
</body>
</html>